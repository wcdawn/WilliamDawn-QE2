% linear algebra
\renewcommand{\epsilon}{\varepsilon} % use the pretty epsilon

% vectors
\newcommand{\vr}{\mathbf{r}}
\newcommand{\vv}{\mathbf{v}}
\newcommand{\vx}{\mathbf{x}}
\newcommand{\vzero}{\mathbf{0}}
\newcommand{\vPhi}{\mathbf{\Phi}}

% general macros
\newcommand{\units}[1]{\ensuremath{\left[\text{{#1}}\right]}}
\newcommand{\half}{\frac{1}{2}}

% reference macros
\newcommand{\eref}[1]{\hyperref[#1]{Eq.~}(\ref{#1})}
\newcommand{\fref}[1]{\hyperref[#1]{Fig.~}\ref{#1}}
\newcommand{\tref}[1]{\hyperref[#1]{Table~}\ref{#1}}
\newcommand{\sref}[1]{\hyperref[#1]{\S}\ref{#1}}
\newcommand{\chref}[1]{\hyperref[#1]{Chapter~}\ref{#1}}
\newcommand{\apref}[1]{\hyperref[#1]{Appendix~}\ref{#1}}
\newcommand{\algorithmref}[1]{\hyperref[#1]{Algorithm~}\ref{#1}}

% math variables
\newcommand{\grad}{\nabla}
\newcommand{\current}{\mathbf{J}}
\newcommand{\dtilde}{\widetilde{D}}

% jfnk variables
\newcommand{\jacobian}{\mathbf{Ja}}
\newcommand{\step}{\delta\vx}
\newcommand{\residual}{\mathbf{R}}

\usepackage{array}
\newcolumntype{L}{>{$}l<{$}}
\newenvironment{conditions}
  {\vspace{0.5\baselineskip}\par\noindent\begin{tabular}{L @{${}={}$}
  l}}{\end{tabular}\vspace{0.5\baselineskip}\\}
